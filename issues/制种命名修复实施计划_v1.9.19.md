# åˆ¶ç§å‘½åä¿®å¤å®æ–½è®¡åˆ’ v1.9.19

## [æ¨¡å¼ï¼šè¯„å®¡]

### ä¿®å¤å®Œæˆæƒ…å†µ

#### âœ… å·²å®Œæˆçš„ä¿®å¤

1. **åˆ¶ç§æ–‡ä»¶å‘½åé”™è¯¯ä¿®å¤**
   - ğŸ”§ ä¿®å¤äº† `TorrentQueueManager._execute_task()` ä¸­çš„å‚æ•°ä¼ é€’é”™è¯¯
   - âœ… ç§»é™¤äº†é”™è¯¯çš„ `output_path` å‚æ•°ä¼ é€’ç»™ `custom_name`
   - ğŸ”„ æ­£ç¡®è®¾ç½® `TorrentCreator.output_dir` å±æ€§

2. **ä»£ç ä¿®æ”¹è¯¦æƒ…**
   ```python
   # ä¿®å¤å‰ï¼ˆé”™è¯¯ï¼‰:
   success = self.torrent_creator.create_torrent(
       task.path,
       output_path,  # é”™è¯¯ï¼šè¾“å‡ºè·¯å¾„è¢«å½“ä½œè‡ªå®šä¹‰åç§°
       progress_callback=lambda p: self._update_task_progress(task, p)
   )
   
   # ä¿®å¤åï¼ˆæ­£ç¡®ï¼‰:
   # è®¾ç½®è¾“å‡ºè·¯å¾„
   output_path = task.output_path or self.torrent_creator.config_manager.get_output_folder()
   
   # æ›´æ–°TorrentCreatorçš„è¾“å‡ºç›®å½•
   from pathlib import Path
   self.torrent_creator.output_dir = Path(output_path)
   
   # æ‰§è¡Œåˆ¶ç§
   success = self.torrent_creator.create_torrent(
       task.path,
       custom_name=None,  # ä½¿ç”¨é»˜è®¤å‘½åï¼ˆåŸºäºæ–‡ä»¶å¤¹åï¼‰
       progress_callback=lambda p: self._update_task_progress(task, p)
   )
   ```

3. **ç‰ˆæœ¬æ›´æ–°**
   - ğŸ“‹ ç‰ˆæœ¬å·: v1.9.18 â†’ v1.9.19
   - ğŸ“ ç‰ˆæœ¬åç§°: "åˆ¶ç§å‘½åä¿®å¤ç‰ˆ"
   - ğŸ“„ åˆ›å»ºä¿®å¤è¯´æ˜æ–‡æ¡£: `BUGFIX_v1.9.19.md`

#### ğŸ¯ ä¿®å¤æ•ˆæœ

**ä¿®å¤å‰é—®é¢˜**:
- ç”Ÿæˆæ–‡ä»¶å: `-root_pack_20250627_103753_646084.torrent`
- é—®é¢˜åŸå› : è¾“å‡ºè·¯å¾„è¢«é”™è¯¯åœ°å½“ä½œè‡ªå®šä¹‰åç§°ä¼ å…¥

**ä¿®å¤åæ•ˆæœ**:
- ç”Ÿæˆæ–‡ä»¶å: `Black.Butler.S05.2025.1080p.CR.WEB-DL.H.264.AAC_20250627_103753_646084.torrent`
- æ­£ç¡®åŸºäºæºæ–‡ä»¶å¤¹åç§°ç”Ÿæˆç§å­æ–‡ä»¶å
- æ–‡ä»¶ä¿å­˜åˆ°æ­£ç¡®çš„è¾“å‡ºç›®å½•

#### ğŸ“Š å½±å“èŒƒå›´

- âœ… é˜Ÿåˆ—åˆ¶ç§åŠŸèƒ½
- âœ… æ‰¹é‡åˆ¶ç§åŠŸèƒ½  
- âœ… æ–‡ä»¶å‘½åé€»è¾‘
- âœ… è¾“å‡ºè·¯å¾„ç®¡ç†
- âœ… å‘åå…¼å®¹æ€§

#### ğŸ” æµ‹è¯•å»ºè®®

1. **åŠŸèƒ½æµ‹è¯•**:
   - å¯åŠ¨ç¨‹åºé€‰æ‹©é˜Ÿåˆ—ç®¡ç† (é€‰é¡¹2)
   - æ·»åŠ åˆ¶ç§ä»»åŠ¡åˆ°é˜Ÿåˆ—
   - å¯åŠ¨é˜Ÿåˆ—å¤„ç†
   - éªŒè¯ç”Ÿæˆçš„ç§å­æ–‡ä»¶åæ˜¯å¦æ­£ç¡®

2. **é¢„æœŸç»“æœ**:
   - ç§å­æ–‡ä»¶åæ ¼å¼: `{æ–‡ä»¶å¤¹å}_{æ—¶é—´æˆ³}.torrent`
   - æ–‡ä»¶ä¿å­˜åˆ°é…ç½®çš„è¾“å‡ºç›®å½•
   - æ—¥å¿—æ˜¾ç¤ºæ­£ç¡®çš„ä»»åŠ¡åç§°

### æ€»ç»“

æœ¬æ¬¡ä¿®å¤å½»åº•è§£å†³äº†é˜Ÿåˆ—åˆ¶ç§æ—¶æ–‡ä»¶å‘½åé”™è¯¯çš„é—®é¢˜ï¼Œç¡®ä¿:
- ğŸ¯ ç§å­æ–‡ä»¶ååŸºäºæºæ–‡ä»¶å¤¹æ­£ç¡®å‘½å
- ğŸ“ æ–‡ä»¶ä¿å­˜åˆ°æ­£ç¡®çš„è¾“å‡ºç›®å½•
- ğŸ”„ é˜Ÿåˆ—ç®¡ç†åŠŸèƒ½å®Œå…¨æ­£å¸¸
- ğŸ“‹ ä¿æŒæ‰€æœ‰ç°æœ‰åŠŸèƒ½çš„å…¼å®¹æ€§

**ä¿®å¤çŠ¶æ€**: âœ… å®Œæˆ
**å»ºè®®**: ç«‹å³æµ‹è¯•éªŒè¯ä¿®å¤æ•ˆæœ