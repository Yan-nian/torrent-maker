# torrent-maker

ä¸€ä¸ªåŸºäº `mktorrent` çš„åŠè‡ªåŠ¨åŒ–ç§å­åˆ¶ä½œå·¥å…·ï¼Œä¸“ä¸ºå½±è§†å‰§æ•´å­£æ‰“åŒ…è€Œè®¾è®¡ã€‚

## âœ¨ ä¸»è¦åŠŸèƒ½

- ğŸ” **æ™ºèƒ½æ¨¡ç³Šæœç´¢**ï¼šæ ¹æ®è¾“å…¥çš„å½±è§†å‰§åç§°æ™ºèƒ½åŒ¹é…æ–‡ä»¶å¤¹
- ğŸ“Š **è¯¦ç»†ä¿¡æ¯æ˜¾ç¤º**ï¼šæ˜¾ç¤ºåŒ¹é…åº¦ã€æ–‡ä»¶æ•°é‡ã€æ–‡ä»¶å¤¹å¤§å°ç­‰ä¿¡æ¯  
- ğŸ¬ **å‰§é›†ä¿¡æ¯è§£æ**ï¼šè‡ªåŠ¨è¯†åˆ«å¹¶æ˜¾ç¤ºæ–‡ä»¶å¤¹å†…é›†æ•°ä¿¡æ¯ï¼ˆå¦‚ S01E01-E12ï¼Œæ”¯æŒæ–­é›†ï¼‰
- ğŸŒ **Tracker ç®¡ç†**ï¼šæ”¯æŒé¢„è®¾å’Œè‡ªå®šä¹‰ BitTorrent Tracker æœåŠ¡å™¨
- ğŸ“ **èµ„æºæ–‡ä»¶å¤¹é…ç½®**ï¼šå¯è‡ªå®šä¹‰å½±è§†å‰§èµ„æºå­˜æ”¾è·¯å¾„
- ğŸ“‚ **è¾“å‡ºæ–‡ä»¶å¤¹é…ç½®**ï¼šå¯è‡ªå®šä¹‰ç§å­æ–‡ä»¶ä¿å­˜è·¯å¾„
- ğŸ›ï¸ **äº¤äº’å¼ç•Œé¢**ï¼šæä¾›å‹å¥½çš„èœå•å¼æ“ä½œç•Œé¢
- âš™ï¸ **é…ç½®ç®¡ç†**ï¼šæ”¯æŒé…ç½®æ–‡ä»¶ç®¡ç†å’Œå®æ—¶ä¿®æ”¹

## ğŸ“‹ ç³»ç»Ÿè¦æ±‚

### å¿…éœ€è½¯ä»¶
- **Python 3.7+**
- **mktorrent**ï¼šç”¨äºåˆ›å»ºç§å­æ–‡ä»¶çš„æ ¸å¿ƒå·¥å…·

### æ”¯æŒå¹³å°
- macOS (æ¨èä½¿ç”¨ Homebrew)
- Linux (Ubuntu/Debian/CentOS/Fedora)
- Windows (éœ€è¦æ‰‹åŠ¨å®‰è£… mktorrent)

## ğŸš€ å¿«é€Ÿå®‰è£…

### ğŸ“¦ å•æ–‡ä»¶ç‰ˆæœ¬ï¼ˆæ¨èæ™®é€šç”¨æˆ·ï¼‰

å•æ–‡ä»¶ç‰ˆæœ¬åŒ…å«æ‰€æœ‰åŠŸèƒ½ï¼Œé…ç½®æ–‡ä»¶è‡ªåŠ¨ç”Ÿæˆåœ¨ `~/.torrent_maker/` ç›®å½•ä¸‹ã€‚

```bash
# ä¸‹è½½å•æ–‡ä»¶ç‰ˆæœ¬
wget https://github.com/Yan-nian/torrent-maker/releases/download/v1.0.0/torrent-maker-standalone.tar.gz

# è§£å‹å¹¶è¿è¡Œ
tar -xzf torrent-maker-standalone.tar.gz
cd standalone
python3 torrent_maker.py
```

æˆ–è€…ä½¿ç”¨ä¸€é”®å®‰è£…è„šæœ¬ï¼š

```bash
curl -fsSL https://raw.githubusercontent.com/Yan-nian/torrent-maker/main/install_standalone.sh | bash
```

**æ–°ç‰ˆå®‰è£…è„šæœ¬ç‰¹æ€§ï¼š**
- ğŸ” è‡ªåŠ¨æ£€æŸ¥å’Œå®‰è£… mktorrent
- ğŸ”„ æ”¯æŒç‰ˆæœ¬æ£€æŸ¥å’Œè‡ªåŠ¨æ›´æ–°
- ğŸŒ ç½‘ç»œè¿æ¥éªŒè¯
- ğŸ“ è‡ªåŠ¨é…ç½® PATH ç¯å¢ƒå˜é‡
- ğŸ¨ å½©è‰²ç•Œé¢è¾“å‡º
- ğŸ§ æ”¯æŒå¤šç§ Linux å‘è¡Œç‰ˆ

### ğŸ”§ å®Œæ•´ç‰ˆæœ¬ï¼ˆæ¨èå¼€å‘è€…ï¼‰

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/Yan-nian/torrent-maker.git
cd torrent-maker

# è¿è¡Œå®‰è£…è„šæœ¬
chmod +x install.sh
./install.sh

# æˆ–æ‰‹åŠ¨å®‰è£…
pip install -r requirements.txt
python src/main.py
```

## ğŸ“¦ mktorrent å®‰è£…

### macOS
```bash
brew install mktorrent
```

### Ubuntu/Debian
```bash
sudo apt update
sudo apt install mktorrent
```

### CentOS/RHEL/Fedora
```bash
# CentOS/RHEL
sudo yum install mktorrent

# Fedora
sudo dnf install mktorrent
```

### Windows
1. ä» [mktorrent releases](https://github.com/Rudde/mktorrent/releases) ä¸‹è½½ Windows ç‰ˆæœ¬
2. å°† `mktorrent.exe` æ”¾åˆ° PATH ç¯å¢ƒå˜é‡ä¸­çš„ç›®å½•

## ğŸ¯ ä½¿ç”¨æ–¹æ³•

### åŸºæœ¬ä½¿ç”¨æµç¨‹

1. **å¯åŠ¨ç¨‹åº**
   ```bash
   python3 torrent_maker.py  # å•æ–‡ä»¶ç‰ˆæœ¬
   # æˆ–
   python src/main.py        # å®Œæ•´ç‰ˆæœ¬
   ```

2. **æœç´¢å½±è§†å‰§**
   - è¾“å…¥å½±è§†å‰§åç§°ï¼ˆæ”¯æŒæ¨¡ç³Šæœç´¢ï¼‰
   - ç¨‹åºä¼šæ™ºèƒ½åŒ¹é…ç›¸å…³æ–‡ä»¶å¤¹å¹¶æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯

3. **æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯**
   - ä½¿ç”¨ `æ•°å­—` é€‰æ‹©åŒ¹é…é¡¹
   - ä½¿ç”¨ `dæ•°å­—` æŸ¥çœ‹è¯¦ç»†å‰§é›†åˆ—è¡¨ï¼ˆå¦‚ `d1`ï¼‰

4. **åˆ¶ä½œç§å­**
   - ç¡®è®¤é€‰æ‹©åç¨‹åºè‡ªåŠ¨è°ƒç”¨ mktorrent åˆ¶ä½œç§å­æ–‡ä»¶

### æœç´¢åŠŸèƒ½ç‰¹ç‚¹

- **æ™ºèƒ½åˆ†éš”ç¬¦å¤„ç†**ï¼šè‡ªåŠ¨å¤„ç†ç‚¹å·ã€ä¸‹åˆ’çº¿ã€è¿å­—ç¬¦ç­‰åˆ†éš”ç¬¦
- **é¦–å­—æ¯ç¼©å†™åŒ¹é…**ï¼šæ”¯æŒ "Got" åŒ¹é… "Game of Thrones"
- **å…³é”®è¯é‡å **ï¼šæ™ºèƒ½è¯†åˆ«å…³é”®è¯ç»„åˆ
- **å‰§é›†ä¿¡æ¯è§£æ**ï¼šè‡ªåŠ¨è¯†åˆ« S01E01-E12ã€æ–­é›†ç­‰æ ¼å¼

### å‰§é›†ä¿¡æ¯æ˜¾ç¤º

ç¨‹åºèƒ½å¤Ÿæ™ºèƒ½è§£æå„ç§å‰§é›†å‘½åæ ¼å¼ï¼š

- **è¿ç»­å‰§é›†**ï¼š`S01E01-E12 (12é›†)`
- **æ–­é›†å¤„ç†**ï¼š`S02E02-E12 (8é›†)` - è‡ªåŠ¨è¯†åˆ«ç¼ºå¤±é›†æ•°
- **å°‘æ•°é›†æ•°**ï¼š`E01+E03+E07 (3é›†)` - æ˜¾ç¤ºå…·ä½“é›†æ•°

ä½¿ç”¨ `dæ•°å­—` å‘½ä»¤å¯æŸ¥çœ‹æ–‡ä»¶å¤¹å†…æ‰€æœ‰å‰§é›†æ–‡ä»¶çš„è¯¦ç»†åˆ—è¡¨ã€‚

## âš™ï¸ é…ç½®ç®¡ç†

### é…ç½®æ–‡ä»¶ä½ç½®

- **å•æ–‡ä»¶ç‰ˆæœ¬**ï¼š`~/.torrent_maker/`
- **å®Œæ•´ç‰ˆæœ¬**ï¼š`config/` ç›®å½•

### ä¸»è¦é…ç½®é¡¹

1. **èµ„æºæ–‡ä»¶å¤¹** (`resources_folder`)
   - å­˜æ”¾å½±è§†å‰§èµ„æºçš„æ ¹ç›®å½•
   - æ”¯æŒåœ¨ç¨‹åºä¸­åŠ¨æ€ä¿®æ”¹

2. **è¾“å‡ºæ–‡ä»¶å¤¹** (`output_folder`)
   - ç§å­æ–‡ä»¶ä¿å­˜ç›®å½•
   - æ”¯æŒåœ¨ç¨‹åºä¸­åŠ¨æ€ä¿®æ”¹

3. **Tracker æœåŠ¡å™¨** (`trackers.txt`)
   - é¢„è®¾çš„ BitTorrent Tracker åˆ—è¡¨
   - æ”¯æŒæ·»åŠ ã€åˆ é™¤å’Œç¼–è¾‘

### é…ç½®èœå•æ“ä½œ

ç¨‹åºæä¾›å®Œæ•´çš„é…ç½®ç®¡ç†ç•Œé¢ï¼š

- `c` - è¿›å…¥é…ç½®èœå•
- `1` - æŸ¥çœ‹å½“å‰é…ç½®
- `2` - ä¿®æ”¹èµ„æºæ–‡ä»¶å¤¹
- `3` - ä¿®æ”¹è¾“å‡ºæ–‡ä»¶å¤¹  
- `4` - ç®¡ç† Tracker åˆ—è¡¨
- `q` - è¿”å›ä¸»èœå•

## ğŸ“ ç›®å½•ç»“æ„

### å®Œæ•´ç‰ˆæœ¬
```
torrent-maker/
â”œâ”€â”€ README.md              # é¡¹ç›®è¯´æ˜æ–‡æ¡£
â”œâ”€â”€ requirements.txt       # Python ä¾èµ–åˆ—è¡¨
â”œâ”€â”€ setup.py              # å®‰è£…é…ç½®
â”œâ”€â”€ run.py                # å¿«é€Ÿå¯åŠ¨è„šæœ¬
â”œâ”€â”€ install.sh            # å®‰è£…è„šæœ¬
â”œâ”€â”€ release.sh            # å‘å¸ƒæ‰“åŒ…è„šæœ¬
â”œâ”€â”€ config/               # é…ç½®æ–‡ä»¶ç›®å½•
â”‚   â”œâ”€â”€ settings.json     # ä¸»é…ç½®æ–‡ä»¶
â”‚   â””â”€â”€ trackers.txt      # Tracker æœåŠ¡å™¨åˆ—è¡¨
â”œâ”€â”€ src/                  # æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ main.py          # ä¸»ç¨‹åºå…¥å£
â”‚   â”œâ”€â”€ config_manager.py # é…ç½®ç®¡ç†æ¨¡å—
â”‚   â”œâ”€â”€ file_matcher.py   # æ–‡ä»¶åŒ¹é…æ¨¡å—
â”‚   â”œâ”€â”€ torrent_creator.py # ç§å­åˆ›å»ºæ¨¡å—
â”‚   â””â”€â”€ utils/           # å·¥å…·æ¨¡å—
â”‚       â”œâ”€â”€ __init__.py
â”‚       â””â”€â”€ helpers.py
â””â”€â”€ tests/               # æµ‹è¯•æ–‡ä»¶ï¼ˆå¯é€‰ï¼‰
    â”œâ”€â”€ test.py
    â”œâ”€â”€ test_episodes.py
    â””â”€â”€ test_enhanced_search.py
```

### å•æ–‡ä»¶ç‰ˆæœ¬
```
standalone/
â”œâ”€â”€ torrent_maker.py      # å•æ–‡ä»¶ç‰ˆæœ¬ï¼ˆåŒ…å«å…¨éƒ¨åŠŸèƒ½ï¼‰
â””â”€â”€ README_STANDALONE.md  # å•æ–‡ä»¶ç‰ˆæœ¬è¯´æ˜
```

## ğŸ§ª æµ‹è¯•

é¡¹ç›®åŒ…å«å¤šä¸ªæµ‹è¯•è„šæœ¬æ¥éªŒè¯å„ç§åŠŸèƒ½ï¼š

```bash
# æµ‹è¯•åŸºæœ¬åŠŸèƒ½
python test.py

# æµ‹è¯•å‰§é›†ä¿¡æ¯è§£æ
python test_episodes.py

# æµ‹è¯•æœç´¢ç®—æ³•
python test_enhanced_search.py

# æµ‹è¯•æ–­é›†å¤„ç†
python test_episode_gaps.py
```

## ğŸ“Š ç‰ˆæœ¬å¯¹æ¯”

| ç‰¹æ€§ | å•æ–‡ä»¶ç‰ˆæœ¬ | å®Œæ•´ç‰ˆæœ¬ |
|------|------------|----------|
| å®‰è£…å¤æ‚åº¦ | â­ ç®€å• | â­â­ ä¸­ç­‰ |
| éƒ¨ç½²ä¾¿åˆ©æ€§ | â­â­â­ ä¼˜ç§€ | â­â­ è‰¯å¥½ |
| å¼€å‘è°ƒè¯• | â­ å›°éš¾ | â­â­â­ ä¼˜ç§€ |
| åŠŸèƒ½å®Œæ•´æ€§ | â­â­â­ å®Œæ•´ | â­â­â­ å®Œæ•´ |
| é…ç½®ç®¡ç† | è‡ªåŠ¨ç”Ÿæˆ | æ‰‹åŠ¨é…ç½® |
| é€‚ç”¨åœºæ™¯ | æ—¥å¸¸ä½¿ç”¨ | å¼€å‘/å®šåˆ¶ |

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æäº¤ Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäº MIT è®¸å¯è¯å¼€æº - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ™ è‡´è°¢

- [mktorrent](https://github.com/Rudde/mktorrent) - æ ¸å¿ƒç§å­åˆ¶ä½œå·¥å…·
- Python æ ‡å‡†åº“ - æä¾›äº†å¼ºå¤§çš„åŸºç¡€åŠŸèƒ½

## ğŸ“® è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿ï¼š

- æäº¤ [Issue](https://github.com/Yan-nian/torrent-maker/issues)
- å‘èµ· [Discussion](https://github.com/Yan-nian/torrent-maker/discussions)

---

**â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™å®ƒä¸€ä¸ª Starï¼**
